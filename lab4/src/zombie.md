Чтобы продемонстрировать зомби-процессы на языке C, рассмотрим следующую программу и объяснение.

### Что такое зомби-процессы?
**Зомби-процесс** — это процесс, который завершил выполнение, но остается в таблице процессов до тех пор, пока родительский процесс не прочитает его статус завершения через системный вызов `wait()`. В этот период процесс находится в состоянии «зомби» (Zombie, обозначается как `Z` в выводе `ps`).

### Как появляются и исчезают?
- **Появление**: Родительский процесс не вызывает `wait()` после завершения дочернего процесса.
- **Исчезновение**:
  1. Родитель вызывает `wait()` (или вариант), и система освобождает запись о процессе.
  2. Если родитель завершается без вызова `wait()`, зомби-процессы усыновляются процессом `init` (PID 1), который периодически вызывает `wait()` и удаляет их.

### Чем опасны?
- Зомби-процессы не потребляют ресурсы (память, CPU), но **занимают записи в таблице процессов**. Если их накапливается слишком много, система не сможет создавать новые процессы.

### Пример программы на C
```c
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <sys/wait.h>

int main() {
    pid_t pid = fork(); // Создаем дочерний процесс

    if (pid == 0) {
        // Дочерний процесс
        printf("Дочерний PID: %d\n", getpid());
        exit(0); // Немедленное завершение
    } else if (pid > 0) {
        // Родительский процесс
        printf("Родительский PID: %d\n", getpid());
        printf("Дочерний процесс создан с PID: %d\n", pid);
        printf("Ожидание 30 секунд...\n");
        sleep(30); // Ждем 30 секунд, не собирая статус
        printf("Родитель завершает работу.\n");
    } else {
        perror("Ошибка fork");
        return 1;
    }

    return 0;
}
```

### Как использовать:
1. Скомпилируйте программу:
   ```bash
   gcc zombie.c -o zombie
   ```
2. Запустите:
   ```bash
   ./zombie
   ```
3. В другом терминале проверьте состояние процесса:
   ```bash
   ps -e -o pid,ppid,state,command | grep <PID_дочернего_процесса>
   ```
   Состояние `Z` подтвердит, что процесс стал зомби.

### Как избавиться от зомби-процессов?
1. **Вызвать `wait()` в родителе**:
   ```c
   // Добавьте после sleep(30):
   wait(NULL); // Собрать статус завершения дочернего процесса
   ```
2. **Игнорировать сигнал `SIGCHLD`** (не всегда рекомендуется):
   ```c
   signal(SIGCHLD, SIG_IGN); // Процессы завершатся сразу без состояния зомби
   ```
3. **Завершить родительский процесс** — все зомби будут унаследованы `init` и удалены.

### Важно:
- Регулярно используйте `wait()` в родительских процессах.
- Для асинхронного отслеживания завершения детей используйте обработчик сигнала `SIGCHLD`.